{% extends 'principal_URLs/principal_temp.html' %}


{% block title %}
Principal | Result
{% endblock title %}

{% block mainbody %}
<style>
    table {
        border-collapse: collapse;
        width: 100%;
    }

    th, td {
        border: 1px solid black;
        padding: 8px;
        text-align: left;
    }

    th {
        background-color: lightgray;
    }

    .total-row {
        font-weight: bold;
    }
</style>


<section class="form-02-main principal-page">
    <div class="container">
        <div class="row">
            <div class="col-md-12">
                <div class="_lk_de">
                    <div class="form-04-main">
                        <div class=" d-flex justify-content-center align-items-center">
                        <div class="logo">
                            <img src="/static/images/public_images/user.png">
                        </div>
                    </div>
                    <br><br>
                        <h1 class="text-center">Student Result</h1>
                        <br>
                        <h3 class="text-center">Name: {{result_data[0][0]}}</h3>
                        <h3 class="text-center">Roll Number: {{result_data[0][1]}}</h3>

                        {% for key, rows in grouped_data.items() %}

                        <div class="row">
                            <div class="col-6 col-md-6 text-center">
                                <h6 class="mb-0 text-secondary">Exam Name</h6>
                                <h5>{{ key[0] }}</h5>
                            </div>

                            <div class="col-6 col-md-6 text-center">
                                <h6 class="mb-0 text-secondary">Exam Date</h6>
                                <h5>{{ key[1] }}</h5>
                                <br>
                            </div>

                        </div>

                        <table>
                            <tr>
                                <th>Subject</th>
                                <th>Total Marks</th>
                                <th>Obtain Marks</th>
                            </tr>

                            {% for row in rows %}
                            <tr>
                                <td>{{ row[4] }}</td>
                                <td>{{ row[6] }}</td>
                                <td>
                                    <h5>{{ row[5] }}</h5>
                                </td>
                            </tr>

                            {% endfor %}

                            <tr class="total-row">
                                <td>Total</td>
                                <td>{{ key[2] }}</td> {# Display the total marks for the exam #}
                                <td>
                                    <h5>{{ key[3] }}</h5>
                                </td> {# Display the obtained marks for the exam #}
                            </tr>

                        </table>
                        <br><br>
                        {% endfor %}

                    </div>

                </div>
            </div>
        </div>
    </div>
    </div>
</section>
{% endblock mainbody %}