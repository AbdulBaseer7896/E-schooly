{% extends 'school_admin_URLs/school_admin_temp.html' %}

{% block title %}
School Admin | Result
{% endblock title %}

{% block mainbody %}
<style>
    table {
        border-collapse: collapse;
        width: 100%;
    }

    th, td {
        border: 1px solid black;
        padding: 8px;
        text-align: left;
    }

    th {
        background-color: lightgray;
    }

    .total-row {
        font-weight: bold;
    }
</style>

<h1>This is hello hi and nice</h1>
<div class="container">

    {% for key, rows in grouped_data.items() %}
        <h2>Exam Type: {{ key[0] }}</h2>
        <h3>Exam Date: {{ key[1] }}</h3>
        
        <table>
            <tr>
                <th>Subject</th>
                <th>Total Marks</th>
                <th>Obtain Marks</th>
            </tr>
            
            {% for row in rows %}
                <tr>
                    <td>{{ row[4] }}</td>
                    <td>{{ row[6] }}</td>
                    <td>{{ row[5] }}</td>
                </tr>

            {% endfor %}
            
            <tr class="total-row">
                <td>Total</td>
                <td>{{ key[2] }}</td>  {# Display the total marks for the exam #}
                <td>{{ key[3] }}</td>  {# Display the obtained marks for the exam #}
            </tr>

        </table>
    {% endfor %}
    
</div>

{% endblock mainbody %}